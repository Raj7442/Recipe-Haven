{"ast":null,"code":"import React,{useState,useEffect}from'react';import style from'./recipe.module.css';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const Recipe=_ref=>{let{title,calories,image,ingredients,saved:propsSaved,onSave,onRemove}=_ref;const[showModal,setShowModal]=useState(false);const[saved,setSaved]=useState(false);useEffect(()=>{// Use saved prop if provided (preferred), otherwise fallback to localStorage check\ntry{if(typeof propsSaved!=='undefined'){setSaved(propsSaved);return;}const favs=JSON.parse(window.localStorage.getItem('favorites')||'[]');setSaved(favs.some(f=>f.title===title));}catch(e){// ignore\n}},[title,propsSaved]);const toggleSave=async()=>{if(saved){if(onRemove){onRemove();setSaved(false);return;}// fallback to localStorage\ntry{const favs=JSON.parse(window.localStorage.getItem('favorites')||'[]');const next=favs.filter(f=>f.title!==title);window.localStorage.setItem('favorites',JSON.stringify(next));setSaved(false);}catch(e){}}else{if(onSave){await onSave();setSaved(true);return;}try{const favs=JSON.parse(window.localStorage.getItem('favorites')||'[]');favs.push({title,image,calories,ingredients});window.localStorage.setItem('favorites',JSON.stringify(favs));setSaved(true);}catch(e){}}};const copyLink=async()=>{const text=\"\".concat(title);try{await navigator.clipboard.writeText(text);alert('Copied recipe title to clipboard');}catch(e){alert('Copy failed');}};return/*#__PURE__*/_jsxs(\"div\",{className:style.card,children:[/*#__PURE__*/_jsxs(\"div\",{className:style['cal-badge'],children:[Math.round(calories),\" cal\"]}),/*#__PURE__*/_jsx(\"img\",{src:image,alt:title}),/*#__PURE__*/_jsxs(\"div\",{className:style.overlay,children:[/*#__PURE__*/_jsx(\"button\",{className:style.btn,onClick:()=>setShowModal(true),children:\"View\"}),/*#__PURE__*/_jsx(\"button\",{className:style.btn,onClick:toggleSave,children:saved?'Saved':'Save'}),/*#__PURE__*/_jsx(\"button\",{className:style.btn,onClick:copyLink,children:\"Copy\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:style['card-body'],children:[/*#__PURE__*/_jsx(\"div\",{className:style['card-title'],children:title}),/*#__PURE__*/_jsxs(\"div\",{className:style['card-sub'],children:[ingredients.length,\" ingredients\"]})]}),showModal&&/*#__PURE__*/_jsx(\"div\",{className:style['modal-backdrop'],onClick:()=>setShowModal(false),children:/*#__PURE__*/_jsxs(\"div\",{className:style.modal,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:style['modal-close'],onClick:()=>setShowModal(false),children:\"Close\"}),/*#__PURE__*/_jsx(\"h3\",{children:title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Calories:\"}),\" \",Math.round(calories)]}),/*#__PURE__*/_jsx(\"ul\",{className:style['ingredients-list'],children:ingredients.map((ing,idx)=>/*#__PURE__*/_jsx(\"li\",{children:ing.text},idx))})]})})]});};export default Recipe;","map":{"version":3,"names":["React","useState","useEffect","style","jsxs","_jsxs","jsx","_jsx","Recipe","_ref","title","calories","image","ingredients","saved","propsSaved","onSave","onRemove","showModal","setShowModal","setSaved","favs","JSON","parse","window","localStorage","getItem","some","f","e","toggleSave","next","filter","setItem","stringify","push","copyLink","text","concat","navigator","clipboard","writeText","alert","className","card","children","Math","round","src","alt","overlay","btn","onClick","length","modal","stopPropagation","map","ing","idx"],"sources":["E:/Recipe-Haven---Food-Recipe-App.-main/src/Recipe.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport style from './recipe.module.css';\r\n\r\nconst Recipe = ({ title, calories, image, ingredients, saved: propsSaved, onSave, onRemove }) => {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [saved, setSaved] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // Use saved prop if provided (preferred), otherwise fallback to localStorage check\r\n    try {\r\n      if (typeof propsSaved !== 'undefined') {\r\n        setSaved(propsSaved);\r\n        return;\r\n      }\r\n      const favs = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n      setSaved(favs.some((f) => f.title === title));\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n  }, [title, propsSaved]);\r\n\r\n  const toggleSave = async () => {\r\n    if (saved) {\r\n      if (onRemove) {\r\n        onRemove();\r\n        setSaved(false);\r\n        return;\r\n      }\r\n      // fallback to localStorage\r\n      try {\r\n        const favs = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n        const next = favs.filter((f) => f.title !== title);\r\n        window.localStorage.setItem('favorites', JSON.stringify(next));\r\n        setSaved(false);\r\n      } catch (e) {}\r\n    } else {\r\n      if (onSave) {\r\n        await onSave();\r\n        setSaved(true);\r\n        return;\r\n      }\r\n      try {\r\n        const favs = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n        favs.push({ title, image, calories, ingredients });\r\n        window.localStorage.setItem('favorites', JSON.stringify(favs));\r\n        setSaved(true);\r\n      } catch (e) {}\r\n    }\r\n  };\r\n\r\n  const copyLink = async () => {\r\n    const text = `${title}`;\r\n    try {\r\n      await navigator.clipboard.writeText(text);\r\n      alert('Copied recipe title to clipboard');\r\n    } catch (e) {\r\n      alert('Copy failed');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={style.card}>\r\n      <div className={style['cal-badge']}>{Math.round(calories)} cal</div>\r\n      <img src={image} alt={title} />\r\n      <div className={style.overlay}>\r\n        <button className={style.btn} onClick={() => setShowModal(true)}>View</button>\r\n        <button className={style.btn} onClick={toggleSave}>{saved ? 'Saved' : 'Save'}</button>\r\n        <button className={style.btn} onClick={copyLink}>Copy</button>\r\n      </div>\r\n\r\n      <div className={style['card-body']}>\r\n        <div className={style['card-title']}>{title}</div>\r\n        <div className={style['card-sub']}>{ingredients.length} ingredients</div>\r\n      </div>\r\n\r\n      {showModal && (\r\n        <div className={style['modal-backdrop']} onClick={() => setShowModal(false)}>\r\n          <div className={style.modal} onClick={(e) => e.stopPropagation()}>\r\n            <button className={style['modal-close']} onClick={() => setShowModal(false)}>Close</button>\r\n            <h3>{title}</h3>\r\n            <p><strong>Calories:</strong> {Math.round(calories)}</p>\r\n            <ul className={style['ingredients-list']}>\r\n              {ingredients.map((ing, idx) => (\r\n                <li key={idx}>{ing.text}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Recipe;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}