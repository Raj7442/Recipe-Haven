{"ast":null,"code":"import _objectSpread from\"E:/Recipe-Haven---Food-Recipe-App.-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useCallback}from'react';import'./App.css';import Recipe from'./Recipe';import SavedRecipes from'./SavedRecipes';import CreateRecipeModal from'./CreateRecipeModal';import MyRecipes from'./MyRecipes';import WelcomePage from'./WelcomePage';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{// Use environment variables for credentials (read at build time)\nconst APP_ID=process.env.REACT_APP_EDAMAM_ID;const APP_KEY=process.env.REACT_APP_EDAMAM_KEY;// Debug logging for API credentials\nuseEffect(()=>{console.log('API Credentials Check:');console.log('APP_ID exists:',!!APP_ID);console.log('APP_KEY exists:',!!APP_KEY);if(APP_ID)console.log('APP_ID length:',APP_ID.length);if(APP_KEY)console.log('APP_KEY length:',APP_KEY.length);},[APP_ID,APP_KEY]);const[recipes,setRecipes]=useState([]);const[searchTerm,setSearchTerm]=useState('');const[hasSearched,setHasSearched]=useState(false);const[isLoading,setIsLoading]=useState(false);const[error,setError]=useState(null);const[favoritesCount,setFavoritesCount]=useState(0);const[isSearchFocused,setIsSearchFocused]=useState(false);const[showSaved,setShowSaved]=useState(false);const[showCreate,setShowCreate]=useState(false);const[showMyRecipes,setShowMyRecipes]=useState(false);// First-time greeting state for new users (per-account)\nconst[showFirstTimeGreeting,setShowFirstTimeGreeting]=useState(false);// Search suggestions dropdown\nconst[showSuggestions,setShowSuggestions]=useState(false);const SEARCH_SUGGESTIONS=['pasta','chicken','salad','dessert','soup'];const[ownerId,setOwnerId]=useState(()=>{try{const existing=window.localStorage.getItem('ownerId');if(existing)return existing;const gen=\"anon_\".concat(Math.random().toString(36).slice(2,10));window.localStorage.setItem('ownerId',gen);return gen;}catch(e){// In very restricted environments localStorage may be unavailable\nreturn\"anon_\".concat(Math.random().toString(36).slice(2,10));}});const[favorites,setFavorites]=useState([]);const[favoritesLoading,setFavoritesLoading]=useState(false);const[favoritesError,setFavoritesError]=useState(null);const[token,setToken]=useState(window.localStorage.getItem('token')||null);const[authUser,setAuthUser]=useState(null);const[isAuthLoading,setIsAuthLoading]=useState(false);const[authError,setAuthError]=useState(null);const[showWelcome,setShowWelcome]=useState(!token);useEffect(()=>{// Ensure ownerId (per-browser user identifier)\nlet owner=window.localStorage.getItem('ownerId');if(!owner){owner=\"anon_\".concat(Math.random().toString(36).slice(2,10));window.localStorage.setItem('ownerId',owner);}setOwnerId(owner);},[]);// Show first-time greeting only for newly seen auth users\nuseEffect(()=>{if(!authUser)return;try{const key=\"seenWelcome_\".concat(authUser.id);const seen=window.localStorage.getItem(key);setShowFirstTimeGreeting(!seen);}catch(e){setShowFirstTimeGreeting(false);}},[authUser]);const dismissFirstTimeGreeting=()=>{if(authUser){try{window.localStorage.setItem(\"seenWelcome_\".concat(authUser.id),'1');}catch(e){}}setShowFirstTimeGreeting(false);};// Modal open helpers: ensure only one modal is visible at a time\nconst openCreateModal=()=>{setShowCreate(true);setShowMyRecipes(false);setShowSaved(false);};const openMyRecipesModal=()=>{setShowMyRecipes(true);setShowCreate(false);setShowSaved(false);};const openSavedModal=()=>{setShowSaved(true);setShowCreate(false);setShowMyRecipes(false);};// Explicit home helper\nconst goHome=()=>{setSearchTerm('');setRecipes([]);setHasSearched(false);setIsLoading(false);setError(null);setShowCreate(false);setShowMyRecipes(false);setShowSaved(false);setShowSuggestions(false);window.scrollTo({top:0,behavior:'smooth'});};// When any of the top-level modals are open, blur the background and lock body scroll\nuseEffect(()=>{const appEl=document.querySelector('.App');const anyOpen=showSaved||showCreate||showMyRecipes;if(appEl){if(anyOpen){appEl.classList.add('blurred');document.body.style.overflow='hidden';}else{appEl.classList.remove('blurred');document.body.style.overflow='';}}return()=>{if(appEl){appEl.classList.remove('blurred');document.body.style.overflow='';}};},[showSaved,showCreate,showMyRecipes]);// Debounced live search: as user types, perform search after pause\nuseEffect(()=>{const term=(searchTerm||'').trim();if(!term){// If input cleared, hide suggestions and clear results\nsetShowSuggestions(false);setRecipes([]);setHasSearched(false);return;}setShowSuggestions(true);const id=setTimeout(()=>{setHasSearched(true);getRecipes(term);},450);return()=>clearTimeout(id);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[searchTerm]);// Define fetchFavorites function (stable and resilient)\nconst fetchFavorites=useCallback(async function(){let tokenArg=arguments.length>0&&arguments[0]!==undefined?arguments[0]:token;let{retries=1,timeout=10000}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};setFavoritesLoading(true);setFavoritesError(null);// If user is logged in, show cached favorites immediately (fast UI on refresh)\ntry{const cached=JSON.parse(window.localStorage.getItem('favorites')||'[]');if(cached&&cached.length){setFavorites(cached);setFavoritesCount(cached.length);}}catch(e){// ignore parse errors\n}try{const currentToken=tokenArg||token;// if token present, verify and fetch server-side favorites\nif(currentToken){let attempt=0;while(attempt<=retries){attempt+=1;const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),timeout);try{const meRes=await fetch('/api/auth/me',{headers:{Authorization:\"Bearer \".concat(currentToken)},signal:controller.signal});clearTimeout(timeoutId);if(meRes.ok){const me=await meRes.json();setAuthUser(me);}else{// token invalid - clear and stop\nsetToken(null);window.localStorage.removeItem('token');throw new Error('Authentication failed');}const listRes=await fetch('/api/recipes',{headers:{Authorization:\"Bearer \".concat(currentToken)},signal:controller.signal});if(listRes.ok){const items=await listRes.json();setFavorites(items);setFavoritesCount(items.length);// persist a local cache for fast refreshes\ntry{window.localStorage.setItem('favorites',JSON.stringify(items));}catch(e){}setFavoritesLoading(false);return;}else if(listRes.status>=500&&attempt<=retries){// try again on server errors\nawait new Promise(r=>setTimeout(r,1000*attempt));continue;}else{// Non-recoverable server response\nconst body=await listRes.json().catch(()=>({}));throw new Error(body.error||\"Failed to load favorites (\".concat(listRes.status,\")\"));}}catch(fetchError){clearTimeout(timeoutId);if(fetchError.name==='AbortError'){// request timed out; try again if attempts remain\nif(attempt<=retries){await new Promise(r=>setTimeout(r,1000*attempt));continue;}}if(attempt<=retries){await new Promise(r=>setTimeout(r,1000*attempt));continue;}// rethrow after retries exhausted\nthrow fetchError;}}}// If no token (or token failed), fallback to localStorage\ntry{const favs=JSON.parse(window.localStorage.getItem('favorites')||'[]');setFavoritesCount(favs.length);setFavorites(favs);}catch(e){setFavoritesCount(0);setFavorites([]);}}catch(e){console.error('Failed to fetch favorites:',e);setFavoritesError(e.message||'Failed to load favorites');}finally{setFavoritesLoading(false);}},[token]);useEffect(()=>{if(token&&!showWelcome){fetchFavorites();}const onStorage=()=>{const updated=JSON.parse(window.localStorage.getItem('favorites')||'[]');setFavoritesCount(updated.length);setFavorites(updated);};window.addEventListener('storage',onStorage);return()=>window.removeEventListener('storage',onStorage);},[token,showWelcome,fetchFavorites]);const saveRecipe=useCallback(async recipe=>{const payload=_objectSpread({},recipe);try{let headers={'Content-Type':'application/json'};if(token)headers.Authorization=\"Bearer \".concat(token);else payload.ownerId=ownerId;const res=await fetch('/api/recipes',{method:'POST',headers,body:JSON.stringify(payload)});if(!res.ok){// Treat non-OK responses as errors so we fall back to localStorage\nconst body=await res.json().catch(()=>({}));throw new Error(body.error||\"Save failed (\".concat(res.status,\")\"));}const item=await res.json();// update local cache immediately\ntry{const cached=JSON.parse(window.localStorage.getItem('favorites')||'[]');const exists=cached.some(f=>f.title===item.title||String(f.id)===String(item.id));const next=exists?cached.map(f=>f.title===item.title?item:f):[...cached,item];window.localStorage.setItem('favorites',JSON.stringify(next));setFavorites(next);setFavoritesCount(next.length);}catch(err){// ignore cache write errors\n}// try to refresh from server to get canonical list (best-effort)\ntry{await fetchFavorites();}catch(e){}return item;}catch(e){// fallback to localStorage\nconst favs=JSON.parse(window.localStorage.getItem('favorites')||'[]');favs.push(payload);window.localStorage.setItem('favorites',JSON.stringify(favs));setFavorites(favs);setFavoritesCount(favs.length);setFavoritesError(e.message||'Save failed');}},[token,ownerId,fetchFavorites]);const removeRecipe=useCallback(async(id,title)=>{try{let headers={};if(token)headers.Authorization=\"Bearer \".concat(token);const res=await fetch(\"/api/recipes/\".concat(id),{method:'DELETE',headers});if(res.ok){setFavorites(s=>{const next=s.filter(r=>String(r.id)!==String(id));try{window.localStorage.setItem('favorites',JSON.stringify(next));}catch(e){}setFavoritesCount(next.length);return next;});// Attempt to refresh server cache (best-effort)\ntry{await fetchFavorites();}catch(err){}return true;}// If delete failed server-side, fall through to fallback below\n}catch(e){console.error('Remove failed:',e);}// fallback to localStorage\ntry{const favs=JSON.parse(window.localStorage.getItem('favorites')||'[]');const next=favs.filter(f=>f.title!==title);window.localStorage.setItem('favorites',JSON.stringify(next));setFavorites(next);setFavoritesCount(next.length);return true;}catch(e){console.error('Local remove failed:',e);return false;}},[token,fetchFavorites]);const removeByTitle=useCallback(async title=>{const found=favorites.find(f=>f.title===title);if(found)return removeRecipe(found.id,found.title);// fallback localStorage removal\ntry{const favs=JSON.parse(window.localStorage.getItem('favorites')||'[]');const next=favs.filter(f=>f.title!==title);window.localStorage.setItem('favorites',JSON.stringify(next));setFavorites(next);setFavoritesCount(next.length);return true;}catch(e){return false;}},[favorites,removeRecipe]);const handleAuthSuccess=userData=>{setToken(userData.token);window.localStorage.setItem('token',userData.token);setAuthUser({id:userData.id,username:userData.username});setShowWelcome(false);setAuthError(null);// Fetch favorites after successful auth\nsetTimeout(()=>{fetchFavorites(userData.token);// Don't auto-search on login\n},100);};const logout=()=>{setToken(null);setAuthUser(null);window.localStorage.removeItem('token');setShowWelcome(true);setRecipes([]);setFavorites([]);setFavoritesCount(0);};const getRecipes=async query=>{const q=query||searchTerm;setIsLoading(true);setError(null);try{// Using TheMealDB API (free, no API key required)\nconst apiUrl=\"https://www.themealdb.com/api/json/v1/1/search.php?s=\".concat(encodeURIComponent(q));const controller=new AbortController();const timeoutId=setTimeout(()=>controller.abort(),10000);const response=await fetch(apiUrl,{signal:controller.signal,headers:{'Accept':'application/json'}});clearTimeout(timeoutId);if(!response.ok){throw new Error(\"API error: \".concat(response.status,\" \").concat(response.statusText));}const data=await response.json();// Transform TheMealDB format to match existing Recipe component\nconst transformedRecipes=(data.meals||[]).map(meal=>({recipe:{uri:meal.idMeal,label:meal.strMeal,image:meal.strMealThumb,calories:Math.floor(Math.random()*400)+200,// TheMealDB doesn't provide calories\ningredients:Array.from({length:20},(_,i)=>{const ingredient=meal[\"strIngredient\".concat(i+1)];const measure=meal[\"strMeasure\".concat(i+1)];return ingredient&&ingredient.trim()?{text:\"\".concat(measure||'',\" \").concat(ingredient).trim(),food:ingredient}:null;}).filter(Boolean)}}));setRecipes(transformedRecipes);}catch(err){if(err.name==='AbortError'){setError('Request timed out. Please check your internet connection and try again.');}else{setError(err.message||'Failed to fetch recipes');}}finally{setIsLoading(false);}};useEffect(()=>{// Don't auto-fetch recipes on page load\n// eslint-disable-next-line react-hooks/exhaustive-deps\n},[showWelcome]);const handleSearch=event=>setSearchTerm(event.target.value);const handleSearchSubmit=event=>{event.preventDefault();setHasSearched(true);setShowSuggestions(false);getRecipes(searchTerm);};// Show welcome page if user is not authenticated\nif(showWelcome){return/*#__PURE__*/_jsx(WelcomePage,{onAuthSuccess:handleAuthSuccess,isLoading:isAuthLoading,setIsLoading:setIsAuthLoading,error:authError,setError:setAuthError});}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"brand\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"R\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Recipe Haven\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"search-form\",onSubmit:handleSearchSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-input-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"search-bar \".concat(isSearchFocused?'focused':''),type:\"text\",value:searchTerm,onChange:handleSearch,onFocus:()=>{setIsSearchFocused(true);setShowSuggestions(true);},onBlur:()=>setTimeout(()=>{setIsSearchFocused(false);setShowSuggestions(false);},150),placeholder:\"Search recipes, e.g. chicken, pasta, salad\",autoComplete:\"off\"}),showSuggestions&&/*#__PURE__*/_jsx(\"div\",{className:\"search-suggestions\",role:\"listbox\",children:(()=>{const term=(searchTerm||'').trim();const filtered=SEARCH_SUGGESTIONS.filter(s=>s.toLowerCase().includes(term.toLowerCase()));// If user typed something, show it as a first actionable item (search for it)\nif(term){const uniqueList=[term,...filtered.filter(s=>s.toLowerCase()!==term.toLowerCase())];return uniqueList.map((s,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"search-suggestion-item\",onMouseDown:e=>{e.preventDefault();setSearchTerm(s);setHasSearched(true);getRecipes(s);setShowSuggestions(false);},children:idx===0?/*#__PURE__*/_jsxs(\"span\",{children:[\"Search for \\\"\",s,\"\\\"\"]}):s},\"\".concat(s,\"-\").concat(idx)));}// no typed term: show hint if no static suggestions (unlikely) or the default list\nif(filtered.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"search-suggestion-no\",children:\"No suggestions\"});}return filtered.map(s=>/*#__PURE__*/_jsx(\"div\",{className:\"search-suggestion-item\",onMouseDown:e=>{e.preventDefault();setSearchTerm(s);setHasSearched(true);getRecipes(s);setShowSuggestions(false);},children:s},s));})()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",type:\"submit\",disabled:isLoading,children:isLoading?'üîç Searching...':'üîç Search'}),/*#__PURE__*/_jsxs(\"div\",{className:\"fav-count interactive\",onClick:openSavedModal,title:\"View saved recipes\",children:[\"\\u2764\\uFE0F \",favoritesCount]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn home-btn interactive\",onClick:goHome,\"aria-label\":\"Home\",children:\"\\uD83C\\uDFE0\"}),authUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"action-stack\",role:\"group\",\"aria-label\":\"User actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn interactive\",onClick:openCreateModal,title:\"Create a new recipe\",children:\"\\u2795 New Recipe\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn interactive\",onClick:openMyRecipesModal,title:\"View my recipes\",children:\"\\uD83D\\uDCDD My Recipes\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-controls\",children:authUser&&/*#__PURE__*/_jsxs(\"div\",{className:\"auth-area\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"auth-user\",children:[\"Hi, \",authUser.username]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"button\",onClick:logout,children:\"Logout\"})]})})]}),isLoading&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-card loading\",children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',marginBottom:'16px'},children:\"\\uD83C\\uDF73\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Searching for delicious recipes...\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',opacity:'0.7',marginTop:'8px'},children:\"This might take a moment\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-card\",style:{borderColor:'var(--danger)',background:'rgba(239, 68, 68, 0.1)'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2rem',marginBottom:'16px'},children:\"\\u26A0\\uFE0F\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Oops! Something went wrong\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.9rem',opacity:'0.8',marginTop:'8px'},children:error}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'16px',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>getRecipes(searchTerm),children:\"\\uD83D\\uDD04 Try Again\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>{console.log('Testing API with \"chicken\"...');setSearchTerm('chicken');getRecipes('chicken');},children:\"\\uD83C\\uDF57 Test with Chicken\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recipes\",children:[recipes.length===0&&!isLoading&&!error&&(authUser?showFirstTimeGreeting?/*#__PURE__*/_jsxs(\"div\",{className:\"empty-card welcome-card\",children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.6rem',marginBottom:'12px'},children:[\"Welcome, \",/*#__PURE__*/_jsx(\"strong\",{style:{color:'var(--accent)'},children:authUser.username}),\"! \\uD83C\\uDF89\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',opacity:'0.9'},children:\"Thanks for joining Recipe Haven \\u2014 start by saving a few recipes or creating your first one.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'16px',justifyContent:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>{setSearchTerm('chicken');getRecipes('chicken');},children:\"\\uD83D\\uDD0D Explore Popular\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:openCreateModal,children:\"\\u2795 Create a Recipe\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:openSavedModal,children:[\"\\u2764\\uFE0F View Saved (\",favoritesCount,\")\"]})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:'center',gap:'8px',marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:dismissFirstTimeGreeting,children:\"Got it\"})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-card\",children:hasSearched&&searchTerm?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.6rem',marginBottom:'8px'},children:[\"No results for \\\"\",searchTerm,\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',opacity:'0.9'},children:\"Try different search terms or browse popular categories below.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'16px',justifyContent:'center',flexWrap:'wrap'},children:[SEARCH_SUGGESTIONS.map(s=>/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>{setSearchTerm(s);setHasSearched(true);getRecipes(s);},children:s},s)),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>{setSearchTerm('');setHasSearched(false);},children:\"Clear search\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1.6rem',marginBottom:'8px'},children:\"Ready to cook?\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',opacity:'0.9'},children:\"Search for recipes, explore popular choices, or manage your saved recipes.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'16px',justifyContent:'center',flexWrap:'wrap'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>{setSearchTerm('chicken');getRecipes('chicken');},children:\"\\uD83D\\uDD0D Explore Popular\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:openCreateModal,children:\"\\u2795 Create a Recipe\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn\",onClick:openSavedModal,children:[\"\\u2764\\uFE0F View Saved (\",favoritesCount,\")\"]})]})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"empty-card\",children:hasSearched&&searchTerm?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'1.6rem',marginBottom:'8px'},children:[\"No results for \\\"\",searchTerm,\"\\\"\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.95rem',opacity:'0.85'},children:\"We couldn't find recipes matching your search. Try different keywords or browse popular categories below.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',marginTop:'16px',flexWrap:'wrap',justifyContent:'center'},children:[SEARCH_SUGGESTIONS.map(suggestion=>/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{fontSize:'0.9rem',padding:'8px 14px'},onClick:()=>{setSearchTerm(suggestion);setHasSearched(true);getRecipes(suggestion);},children:suggestion},suggestion)),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>{setSearchTerm('');setHasSearched(false);},style:{background:'rgba(255,255,255,0.06)'},children:\"Clear search\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'2.6rem',marginBottom:'12px'},children:\"Welcome to Recipe Haven\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'1rem',opacity:'0.85'},children:\"Sign up to save recipes and create your own. Or start exploring with the buttons below.\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'8px',marginTop:'16px',flexWrap:'wrap',justifyContent:'center'},children:SEARCH_SUGGESTIONS.map(suggestion=>/*#__PURE__*/_jsx(\"button\",{className:\"btn\",style:{fontSize:'0.9rem',padding:'8px 14px'},onClick:()=>{setSearchTerm(suggestion);getRecipes(suggestion);},children:suggestion},suggestion))}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',opacity:'0.7',marginTop:12},children:\"Tip: Try searching for \\\"pasta\\\" or \\\"dessert\\\" to get inspiration.\"})]})})),recipes.map(recipeItem=>/*#__PURE__*/_jsx(Recipe,{title:recipeItem.recipe.label,calories:recipeItem.recipe.calories,image:recipeItem.recipe.image,ingredients:recipeItem.recipe.ingredients,saved:favorites.some(f=>f.title===recipeItem.recipe.label),onSave:saveRecipe,onRemove:removeByTitle},recipeItem.recipe.uri))]}),/*#__PURE__*/_jsx(SavedRecipes,{open:showSaved,onClose:()=>setShowSaved(false),favorites:favorites,token:token,refresh:fetchFavorites}),/*#__PURE__*/_jsx(MyRecipes,{open:showMyRecipes,onClose:()=>setShowMyRecipes(false),token:token,refresh:fetchFavorites}),/*#__PURE__*/_jsx(CreateRecipeModal,{open:showCreate,onClose:()=>setShowCreate(false),token:token,onCreated:async()=>{await fetchFavorites();setShowCreate(false);}}),/*#__PURE__*/_jsx(\"div\",{className:\"footer-note\",children:/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.85rem',opacity:'0.6'},children:\"\\xA9 Recipe Haven\"})})]});};export default App;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Recipe","SavedRecipes","CreateRecipeModal","MyRecipes","WelcomePage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","APP_ID","process","env","REACT_APP_EDAMAM_ID","APP_KEY","REACT_APP_EDAMAM_KEY","console","log","length","recipes","setRecipes","searchTerm","setSearchTerm","hasSearched","setHasSearched","isLoading","setIsLoading","error","setError","favoritesCount","setFavoritesCount","isSearchFocused","setIsSearchFocused","showSaved","setShowSaved","showCreate","setShowCreate","showMyRecipes","setShowMyRecipes","showFirstTimeGreeting","setShowFirstTimeGreeting","showSuggestions","setShowSuggestions","SEARCH_SUGGESTIONS","ownerId","setOwnerId","existing","window","localStorage","getItem","gen","concat","Math","random","toString","slice","setItem","e","favorites","setFavorites","favoritesLoading","setFavoritesLoading","favoritesError","setFavoritesError","token","setToken","authUser","setAuthUser","isAuthLoading","setIsAuthLoading","authError","setAuthError","showWelcome","setShowWelcome","owner","key","id","seen","dismissFirstTimeGreeting","openCreateModal","openMyRecipesModal","openSavedModal","goHome","scrollTo","top","behavior","appEl","document","querySelector","anyOpen","classList","add","body","style","overflow","remove","term","trim","setTimeout","getRecipes","clearTimeout","fetchFavorites","tokenArg","arguments","undefined","retries","timeout","cached","JSON","parse","currentToken","attempt","controller","AbortController","timeoutId","abort","meRes","fetch","headers","Authorization","signal","ok","me","json","removeItem","Error","listRes","items","stringify","status","Promise","r","catch","fetchError","name","favs","message","onStorage","updated","addEventListener","removeEventListener","saveRecipe","recipe","payload","_objectSpread","res","method","item","exists","some","f","title","String","next","map","err","push","removeRecipe","s","filter","removeByTitle","found","find","handleAuthSuccess","userData","username","logout","query","q","apiUrl","encodeURIComponent","response","statusText","data","transformedRecipes","meals","meal","uri","idMeal","label","strMeal","image","strMealThumb","calories","floor","ingredients","Array","from","_","i","ingredient","measure","text","food","Boolean","handleSearch","event","target","value","handleSearchSubmit","preventDefault","onAuthSuccess","className","children","onSubmit","type","onChange","onFocus","onBlur","placeholder","autoComplete","role","filtered","toLowerCase","includes","uniqueList","idx","onMouseDown","disabled","onClick","fontSize","marginBottom","opacity","marginTop","borderColor","background","display","gap","justifyContent","color","flexWrap","suggestion","padding","recipeItem","saved","onSave","onRemove","open","onClose","refresh","onCreated"],"sources":["E:/Recipe-Haven---Food-Recipe-App.-main/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\r\nimport './App.css';\r\nimport Recipe from './Recipe';\r\nimport SavedRecipes from './SavedRecipes';\r\nimport CreateRecipeModal from './CreateRecipeModal';\r\nimport MyRecipes from './MyRecipes';\r\nimport WelcomePage from './WelcomePage';\r\n\r\nconst App = () => {\r\n  // Use environment variables for credentials (read at build time)\r\n  const APP_ID = process.env.REACT_APP_EDAMAM_ID;\r\n  const APP_KEY = process.env.REACT_APP_EDAMAM_KEY;\r\n\r\n  // Debug logging for API credentials\r\n  useEffect(() => {\r\n    console.log('API Credentials Check:');\r\n    console.log('APP_ID exists:', !!APP_ID);\r\n    console.log('APP_KEY exists:', !!APP_KEY);\r\n    if (APP_ID) console.log('APP_ID length:', APP_ID.length);\r\n    if (APP_KEY) console.log('APP_KEY length:', APP_KEY.length);\r\n  }, [APP_ID, APP_KEY]);\r\n\r\n  const [recipes, setRecipes] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [hasSearched, setHasSearched] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [favoritesCount, setFavoritesCount] = useState(0);\r\n  const [isSearchFocused, setIsSearchFocused] = useState(false);\r\n\r\n  const [showSaved, setShowSaved] = useState(false);\r\n  const [showCreate, setShowCreate] = useState(false);\r\n  const [showMyRecipes, setShowMyRecipes] = useState(false);\r\n\r\n  // First-time greeting state for new users (per-account)\r\n  const [showFirstTimeGreeting, setShowFirstTimeGreeting] = useState(false);\r\n\r\n  // Search suggestions dropdown\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const SEARCH_SUGGESTIONS = ['pasta', 'chicken', 'salad', 'dessert', 'soup'];\r\n\r\n  const [ownerId, setOwnerId] = useState(() => {\r\n    try {\r\n      const existing = window.localStorage.getItem('ownerId');\r\n      if (existing) return existing;\r\n      const gen = `anon_${Math.random().toString(36).slice(2, 10)}`;\r\n      window.localStorage.setItem('ownerId', gen);\r\n      return gen;\r\n    } catch (e) {\r\n      // In very restricted environments localStorage may be unavailable\r\n      return `anon_${Math.random().toString(36).slice(2, 10)}`;\r\n    }\r\n  });\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [favoritesLoading, setFavoritesLoading] = useState(false);\r\n  const [favoritesError, setFavoritesError] = useState(null);\r\n  const [token, setToken] = useState(window.localStorage.getItem('token') || null);\r\n  const [authUser, setAuthUser] = useState(null);\r\n  const [isAuthLoading, setIsAuthLoading] = useState(false);\r\n  const [authError, setAuthError] = useState(null);\r\n  const [showWelcome, setShowWelcome] = useState(!token);\r\n\r\n  useEffect(() => {\r\n    // Ensure ownerId (per-browser user identifier)\r\n    let owner = window.localStorage.getItem('ownerId');\r\n    if (!owner) {\r\n      owner = `anon_${Math.random().toString(36).slice(2, 10)}`;\r\n      window.localStorage.setItem('ownerId', owner);\r\n    }\r\n    setOwnerId(owner);\r\n  }, []);\r\n\r\n  // Show first-time greeting only for newly seen auth users\r\n  useEffect(() => {\r\n    if (!authUser) return;\r\n    try {\r\n      const key = `seenWelcome_${authUser.id}`;\r\n      const seen = window.localStorage.getItem(key);\r\n      setShowFirstTimeGreeting(!seen);\r\n    } catch (e) {\r\n      setShowFirstTimeGreeting(false);\r\n    }\r\n  }, [authUser]);\r\n\r\n  const dismissFirstTimeGreeting = () => {\r\n    if (authUser) {\r\n      try { window.localStorage.setItem(`seenWelcome_${authUser.id}`, '1'); } catch (e) {}\r\n    }\r\n    setShowFirstTimeGreeting(false);\r\n  };\r\n\r\n  // Modal open helpers: ensure only one modal is visible at a time\r\n  const openCreateModal = () => { setShowCreate(true); setShowMyRecipes(false); setShowSaved(false); };\r\n  const openMyRecipesModal = () => { setShowMyRecipes(true); setShowCreate(false); setShowSaved(false); };\r\n  const openSavedModal = () => { setShowSaved(true); setShowCreate(false); setShowMyRecipes(false); };\r\n\r\n  // Explicit home helper\r\n  const goHome = () => {\r\n    setSearchTerm('');\r\n    setRecipes([]);\r\n    setHasSearched(false);\r\n    setIsLoading(false);\r\n    setError(null);\r\n    setShowCreate(false);\r\n    setShowMyRecipes(false);\r\n    setShowSaved(false);\r\n    setShowSuggestions(false);\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  // When any of the top-level modals are open, blur the background and lock body scroll\r\n  useEffect(() => {\r\n    const appEl = document.querySelector('.App');\r\n    const anyOpen = showSaved || showCreate || showMyRecipes;\r\n    if (appEl) {\r\n      if (anyOpen) {\r\n        appEl.classList.add('blurred');\r\n        document.body.style.overflow = 'hidden';\r\n      } else {\r\n        appEl.classList.remove('blurred');\r\n        document.body.style.overflow = '';\r\n      }\r\n    }\r\n    return () => {\r\n      if (appEl) {\r\n        appEl.classList.remove('blurred');\r\n        document.body.style.overflow = '';\r\n      }\r\n    };\r\n  }, [showSaved, showCreate, showMyRecipes]);\r\n\r\n  // Debounced live search: as user types, perform search after pause\r\n  useEffect(() => {\r\n    const term = (searchTerm || '').trim();\r\n\r\n    if (!term) {\r\n      // If input cleared, hide suggestions and clear results\r\n      setShowSuggestions(false);\r\n      setRecipes([]);\r\n      setHasSearched(false);\r\n      return;\r\n    }\r\n\r\n    setShowSuggestions(true);\r\n\r\n    const id = setTimeout(() => {\r\n      setHasSearched(true);\r\n      getRecipes(term);\r\n    }, 450);\r\n\r\n    return () => clearTimeout(id);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchTerm]);\r\n  // Define fetchFavorites function (stable and resilient)\r\n  const fetchFavorites = useCallback(async (tokenArg = token, { retries = 1, timeout = 10000 } = {}) => {\r\n    setFavoritesLoading(true);\r\n    setFavoritesError(null);\r\n\r\n    // If user is logged in, show cached favorites immediately (fast UI on refresh)\r\n    try {\r\n      const cached = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n      if (cached && cached.length) {\r\n        setFavorites(cached);\r\n        setFavoritesCount(cached.length);\r\n      }\r\n    } catch (e) {\r\n      // ignore parse errors\r\n    }\r\n\r\n    try {\r\n      const currentToken = tokenArg || token;\r\n      // if token present, verify and fetch server-side favorites\r\n      if (currentToken) {\r\n        let attempt = 0;\r\n        while (attempt <= retries) {\r\n          attempt += 1;\r\n          const controller = new AbortController();\r\n          const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n\r\n          try {\r\n            const meRes = await fetch('/api/auth/me', {\r\n              headers: { Authorization: `Bearer ${currentToken}` },\r\n              signal: controller.signal\r\n            });\r\n            clearTimeout(timeoutId);\r\n\r\n            if (meRes.ok) {\r\n              const me = await meRes.json();\r\n              setAuthUser(me);\r\n            } else {\r\n              // token invalid - clear and stop\r\n              setToken(null);\r\n              window.localStorage.removeItem('token');\r\n              throw new Error('Authentication failed');\r\n            }\r\n\r\n            const listRes = await fetch('/api/recipes', {\r\n              headers: { Authorization: `Bearer ${currentToken}` },\r\n              signal: controller.signal\r\n            });\r\n\r\n            if (listRes.ok) {\r\n              const items = await listRes.json();\r\n              setFavorites(items);\r\n              setFavoritesCount(items.length);\r\n              // persist a local cache for fast refreshes\r\n              try {\r\n                window.localStorage.setItem('favorites', JSON.stringify(items));\r\n              } catch (e) {}\r\n\r\n              setFavoritesLoading(false);\r\n              return;\r\n            } else if (listRes.status >= 500 && attempt <= retries) {\r\n              // try again on server errors\r\n              await new Promise(r => setTimeout(r, 1000 * attempt));\r\n              continue;\r\n            } else {\r\n              // Non-recoverable server response\r\n              const body = await listRes.json().catch(() => ({}));\r\n              throw new Error(body.error || `Failed to load favorites (${listRes.status})`);\r\n            }\r\n          } catch (fetchError) {\r\n            clearTimeout(timeoutId);\r\n            if (fetchError.name === 'AbortError') {\r\n              // request timed out; try again if attempts remain\r\n              if (attempt <= retries) {\r\n                await new Promise(r => setTimeout(r, 1000 * attempt));\r\n                continue;\r\n              }\r\n            }\r\n            if (attempt <= retries) {\r\n              await new Promise(r => setTimeout(r, 1000 * attempt));\r\n              continue;\r\n            }\r\n            // rethrow after retries exhausted\r\n            throw fetchError;\r\n          }\r\n        }\r\n      }\r\n\r\n      // If no token (or token failed), fallback to localStorage\r\n      try {\r\n        const favs = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n        setFavoritesCount(favs.length);\r\n        setFavorites(favs);\r\n      } catch (e) {\r\n        setFavoritesCount(0);\r\n        setFavorites([]);\r\n      }\r\n    } catch (e) {\r\n      console.error('Failed to fetch favorites:', e);\r\n      setFavoritesError(e.message || 'Failed to load favorites');\r\n    } finally {\r\n      setFavoritesLoading(false);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    if (token && !showWelcome) {\r\n      fetchFavorites();\r\n    }\r\n\r\n    const onStorage = () => {\r\n      const updated = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n      setFavoritesCount(updated.length);\r\n      setFavorites(updated);\r\n    };\r\n    window.addEventListener('storage', onStorage);\r\n    return () => window.removeEventListener('storage', onStorage);\r\n  }, [token, showWelcome, fetchFavorites]);\r\n\r\n  const saveRecipe = useCallback(async (recipe) => {\r\n    const payload = { ...recipe };\r\n    try {\r\n      let headers = { 'Content-Type': 'application/json' };\r\n      if (token) headers.Authorization = `Bearer ${token}`;\r\n      else payload.ownerId = ownerId;\r\n\r\n      const res = await fetch('/api/recipes', { method: 'POST', headers, body: JSON.stringify(payload) });\r\n      if (!res.ok) {\r\n        // Treat non-OK responses as errors so we fall back to localStorage\r\n        const body = await res.json().catch(() => ({}));\r\n        throw new Error(body.error || `Save failed (${res.status})`);\r\n      }\r\n\r\n      const item = await res.json();\r\n      // update local cache immediately\r\n      try {\r\n        const cached = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n        const exists = cached.some((f) => f.title === item.title || String(f.id) === String(item.id));\r\n        const next = exists ? cached.map((f) => (f.title === item.title ? item : f)) : [...cached, item];\r\n        window.localStorage.setItem('favorites', JSON.stringify(next));\r\n        setFavorites(next);\r\n        setFavoritesCount(next.length);\r\n      } catch (err) {\r\n        // ignore cache write errors\r\n      }\r\n\r\n      // try to refresh from server to get canonical list (best-effort)\r\n      try { await fetchFavorites(); } catch (e) {}\r\n      return item;\r\n    } catch (e) {\r\n      // fallback to localStorage\r\n      const favs = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n      favs.push(payload);\r\n      window.localStorage.setItem('favorites', JSON.stringify(favs));\r\n      setFavorites(favs);\r\n      setFavoritesCount(favs.length);\r\n      setFavoritesError(e.message || 'Save failed');\r\n    }\r\n  }, [token, ownerId, fetchFavorites]);\r\n\r\n  const removeRecipe = useCallback(async (id, title) => {\r\n    try {\r\n      let headers = {};\r\n      if (token) headers.Authorization = `Bearer ${token}`;\r\n\r\n      const res = await fetch(`/api/recipes/${id}`, { method: 'DELETE', headers });\r\n      if (res.ok) {\r\n        setFavorites((s) => {\r\n          const next = s.filter((r) => String(r.id) !== String(id));\r\n          try { window.localStorage.setItem('favorites', JSON.stringify(next)); } catch (e) {}\r\n          setFavoritesCount(next.length);\r\n          return next;\r\n        });\r\n\r\n        // Attempt to refresh server cache (best-effort)\r\n        try { await fetchFavorites(); } catch (err) {}\r\n        return true;\r\n      }\r\n\r\n      // If delete failed server-side, fall through to fallback below\r\n    } catch (e) {\r\n      console.error('Remove failed:', e);\r\n    }\r\n\r\n    // fallback to localStorage\r\n    try {\r\n      const favs = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n      const next = favs.filter((f) => f.title !== title);\r\n      window.localStorage.setItem('favorites', JSON.stringify(next));\r\n      setFavorites(next);\r\n      setFavoritesCount(next.length);\r\n      return true;\r\n    } catch (e) {\r\n      console.error('Local remove failed:', e);\r\n      return false;\r\n    }\r\n  }, [token, fetchFavorites]);\r\n\r\n  const removeByTitle = useCallback(async (title) => {\r\n    const found = favorites.find((f) => f.title === title);\r\n    if (found) return removeRecipe(found.id, found.title);\r\n\r\n    // fallback localStorage removal\r\n    try {\r\n      const favs = JSON.parse(window.localStorage.getItem('favorites') || '[]');\r\n      const next = favs.filter((f) => f.title !== title);\r\n      window.localStorage.setItem('favorites', JSON.stringify(next));\r\n      setFavorites(next);\r\n      setFavoritesCount(next.length);\r\n      return true;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }, [favorites, removeRecipe]);\r\n\r\n  const handleAuthSuccess = (userData) => {\r\n    setToken(userData.token);\r\n    window.localStorage.setItem('token', userData.token);\r\n    setAuthUser({ id: userData.id, username: userData.username });\r\n    setShowWelcome(false);\r\n    setAuthError(null);\r\n    \r\n    // Fetch favorites after successful auth\r\n    setTimeout(() => {\r\n      fetchFavorites(userData.token);\r\n      // Don't auto-search on login\r\n    }, 100);\r\n  };\r\n\r\n  const logout = () => {\r\n    setToken(null);\r\n    setAuthUser(null);\r\n    window.localStorage.removeItem('token');\r\n    setShowWelcome(true);\r\n    setRecipes([]);\r\n    setFavorites([]);\r\n    setFavoritesCount(0);\r\n  };\r\n\r\n  const getRecipes = async (query) => {\r\n    const q = query || searchTerm;\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Using TheMealDB API (free, no API key required)\r\n      const apiUrl = `https://www.themealdb.com/api/json/v1/1/search.php?s=${encodeURIComponent(q)}`;\r\n      \r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 10000);\r\n\r\n      const response = await fetch(apiUrl, {\r\n        signal: controller.signal,\r\n        headers: { 'Accept': 'application/json' }\r\n      });\r\n\r\n      clearTimeout(timeoutId);\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`API error: ${response.status} ${response.statusText}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      \r\n      // Transform TheMealDB format to match existing Recipe component\r\n      const transformedRecipes = (data.meals || []).map(meal => ({\r\n        recipe: {\r\n          uri: meal.idMeal,\r\n          label: meal.strMeal,\r\n          image: meal.strMealThumb,\r\n          calories: Math.floor(Math.random() * 400) + 200, // TheMealDB doesn't provide calories\r\n          ingredients: Array.from({length: 20}, (_, i) => {\r\n            const ingredient = meal[`strIngredient${i + 1}`];\r\n            const measure = meal[`strMeasure${i + 1}`];\r\n            return ingredient && ingredient.trim() ? {\r\n              text: `${measure || ''} ${ingredient}`.trim(),\r\n              food: ingredient\r\n            } : null;\r\n          }).filter(Boolean)\r\n        }\r\n      }));\r\n      \r\n      setRecipes(transformedRecipes);\r\n    } catch (err) {\r\n      if (err.name === 'AbortError') {\r\n        setError('Request timed out. Please check your internet connection and try again.');\r\n      } else {\r\n        setError(err.message || 'Failed to fetch recipes');\r\n      }\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Don't auto-fetch recipes on page load\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [showWelcome]);\r\n\r\n  const handleSearch = (event) => setSearchTerm(event.target.value);\r\n\r\n  const handleSearchSubmit = (event) => {\r\n    event.preventDefault();\r\n    setHasSearched(true);\r\n    setShowSuggestions(false);\r\n    getRecipes(searchTerm);\r\n  };\r\n\r\n  // Show welcome page if user is not authenticated\r\n  if (showWelcome) {\r\n    return (\r\n      <WelcomePage \r\n        onAuthSuccess={handleAuthSuccess}\r\n        isLoading={isAuthLoading}\r\n        setIsLoading={setIsAuthLoading}\r\n        error={authError}\r\n        setError={setAuthError}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"header\">\r\n        <div className=\"brand\">\r\n          <div className=\"logo\">R</div>\r\n          <h1>Recipe Haven</h1>\r\n        </div>\r\n\r\n        <form className=\"search-form\" onSubmit={handleSearchSubmit}>\r\n          <div className=\"search-input-wrap\">\r\n            <input\r\n              className={`search-bar ${isSearchFocused ? 'focused' : ''}`}\r\n              type=\"text\"\r\n              value={searchTerm}\r\n              onChange={handleSearch}\r\n              onFocus={() => { setIsSearchFocused(true); setShowSuggestions(true); }}\r\n              onBlur={() => setTimeout(() => { setIsSearchFocused(false); setShowSuggestions(false); }, 150)}\r\n              placeholder=\"Search recipes, e.g. chicken, pasta, salad\"\r\n              autoComplete=\"off\"\r\n            />\r\n\r\n            {showSuggestions && (\r\n              <div className=\"search-suggestions\" role=\"listbox\">\r\n                    {(() => {\r\n                  const term = (searchTerm || '').trim();\r\n                  const filtered = SEARCH_SUGGESTIONS.filter(s => s.toLowerCase().includes(term.toLowerCase()));\r\n\r\n                  // If user typed something, show it as a first actionable item (search for it)\r\n                  if (term) {\r\n                    const uniqueList = [term, ...filtered.filter(s => s.toLowerCase() !== term.toLowerCase())];\r\n                    return uniqueList.map((s, idx) => (\r\n                      <div\r\n                        key={`${s}-${idx}`}\r\n                        className=\"search-suggestion-item\"\r\n                        onMouseDown={(e) => { e.preventDefault(); setSearchTerm(s); setHasSearched(true); getRecipes(s); setShowSuggestions(false); }}\r\n                      >\r\n                        {idx === 0 ? (\r\n                          <span>Search for \"{s}\"</span>\r\n                        ) : s}\r\n                      </div>\r\n                    ));\r\n                  }\r\n\r\n                  // no typed term: show hint if no static suggestions (unlikely) or the default list\r\n                  if (filtered.length === 0) {\r\n                    return <div className=\"search-suggestion-no\">No suggestions</div>;\r\n                  }\r\n\r\n                  return filtered.map(s => (\r\n                    <div\r\n                      key={s}\r\n                      className=\"search-suggestion-item\"\r\n                      onMouseDown={(e) => { e.preventDefault(); setSearchTerm(s); setHasSearched(true); getRecipes(s); setShowSuggestions(false); }}\r\n                    >\r\n                      {s}\r\n                    </div>\r\n                  ));\r\n                })()}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"controls\">\r\n            <button className=\"search-button\" type=\"submit\" disabled={isLoading}>\r\n              {isLoading ? 'üîç Searching...' : 'üîç Search'}\r\n            </button>\r\n            <div \r\n              className=\"fav-count interactive\" \r\n              onClick={openSavedModal}\r\n              title=\"View saved recipes\"\r\n            >\r\n              ‚ù§Ô∏è {favoritesCount}\r\n            </div>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"header-actions\">\r\n          <button className=\"btn home-btn interactive\" onClick={goHome} aria-label=\"Home\">üè†</button>\r\n\r\n          {authUser && (\r\n            <div className=\"action-stack\" role=\"group\" aria-label=\"User actions\">\r\n              <button className=\"btn interactive\" onClick={openCreateModal} title=\"Create a new recipe\">‚ûï New Recipe</button>\r\n              <button className=\"btn interactive\" onClick={openMyRecipesModal} title=\"View my recipes\">üìù My Recipes</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"auth-controls\">\r\n          {authUser && (\r\n            <div className=\"auth-area\">\r\n              <span className=\"auth-user\">Hi, {authUser.username}</span>\r\n              <button className=\"btn\" type=\"button\" onClick={logout}>Logout</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </header>\r\n\r\n      {isLoading && (\r\n        <div className=\"empty-card loading\">\r\n          <div style={{fontSize: '2rem', marginBottom: '16px'}}>üç≥</div>\r\n          <div>Searching for delicious recipes...</div>\r\n          <div style={{fontSize: '0.9rem', opacity: '0.7', marginTop: '8px'}}>This might take a moment</div>\r\n        </div>\r\n      )}\r\n      \r\n      {error && (\r\n        <div className=\"empty-card\" style={{borderColor: 'var(--danger)', background: 'rgba(239, 68, 68, 0.1)'}}>\r\n          <div style={{fontSize: '2rem', marginBottom: '16px'}}>‚ö†Ô∏è</div>\r\n          <div>Oops! Something went wrong</div>\r\n          <div style={{fontSize: '0.9rem', opacity: '0.8', marginTop: '8px'}}>{error}</div>\r\n          <div style={{display: 'flex', gap: '8px', marginTop: '16px', justifyContent: 'center'}}>\r\n            <button \r\n              className=\"btn\" \r\n              onClick={() => getRecipes(searchTerm)}\r\n            >\r\n              üîÑ Try Again\r\n            </button>\r\n            <button \r\n              className=\"btn\" \r\n              onClick={() => {\r\n                console.log('Testing API with \"chicken\"...');\r\n                setSearchTerm('chicken');\r\n                getRecipes('chicken');\r\n              }}\r\n            >\r\n              üçó Test with Chicken\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"recipes\">\r\n        {recipes.length === 0 && !isLoading && !error && (\r\n          authUser ? (\r\n            showFirstTimeGreeting ? (\r\n              <div className=\"empty-card welcome-card\">\r\n                <div style={{fontSize: '1.6rem', marginBottom: '12px'}}>Welcome, <strong style={{color: 'var(--accent)'}}>{authUser.username}</strong>! üéâ</div>\r\n                <div style={{fontSize: '1rem', opacity: '0.9'}}>Thanks for joining Recipe Haven ‚Äî start by saving a few recipes or creating your first one.</div>\r\n\r\n                <div style={{display: 'flex', gap: '8px', marginTop: '16px', justifyContent: 'center', flexWrap: 'wrap'}}>\r\n                  <button className=\"btn\" onClick={() => { setSearchTerm('chicken'); getRecipes('chicken'); }}>üîç Explore Popular</button>\r\n                  <button className=\"btn\" onClick={openCreateModal}>‚ûï Create a Recipe</button>\r\n                  <button className=\"btn\" onClick={openSavedModal}>‚ù§Ô∏è View Saved ({favoritesCount})</button>\r\n                </div>\r\n\r\n                <div style={{display: 'flex', justifyContent: 'center', gap: '8px', marginTop: 12}}>\r\n                  <button className=\"btn\" onClick={dismissFirstTimeGreeting}>Got it</button>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-card\">\r\n                {hasSearched && searchTerm ? (\r\n                  <>\r\n                    <div style={{fontSize: '1.6rem', marginBottom: '8px'}}>No results for \"{searchTerm}\"</div>\r\n                    <div style={{fontSize: '1rem', opacity: '0.9'}}>Try different search terms or browse popular categories below.</div>\r\n\r\n                    <div style={{display: 'flex', gap: '8px', marginTop: '16px', justifyContent: 'center', flexWrap: 'wrap'}}>\r\n                      {SEARCH_SUGGESTIONS.map((s) => (\r\n                        <button key={s} className=\"btn\" onClick={() => { setSearchTerm(s); setHasSearched(true); getRecipes(s); }}>{s}</button>\r\n                      ))}\r\n                      <button className=\"btn\" onClick={() => { setSearchTerm(''); setHasSearched(false); }}>Clear search</button>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div style={{fontSize: '1.6rem', marginBottom: '8px'}}>Ready to cook?</div>\r\n                    <div style={{fontSize: '1rem', opacity: '0.9'}}>Search for recipes, explore popular choices, or manage your saved recipes.</div>\r\n\r\n                    <div style={{display: 'flex', gap: '8px', marginTop: '16px', justifyContent: 'center', flexWrap: 'wrap'}}>\r\n                      <button className=\"btn\" onClick={() => { setSearchTerm('chicken'); getRecipes('chicken'); }}>üîç Explore Popular</button>\r\n                      <button className=\"btn\" onClick={openCreateModal}>‚ûï Create a Recipe</button>\r\n                      <button className=\"btn\" onClick={openSavedModal}>‚ù§Ô∏è View Saved ({favoritesCount})</button>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            )\r\n          ) : (\r\n            <div className=\"empty-card\">\r\n              {hasSearched && searchTerm ? (\r\n                <>\r\n                  <div style={{fontSize: '1.6rem', marginBottom: '8px'}}>No results for \"{searchTerm}\"</div>\r\n                  <div style={{fontSize: '0.95rem', opacity: '0.85'}}>We couldn't find recipes matching your search. Try different keywords or browse popular categories below.</div>\r\n\r\n                  <div style={{display: 'flex', gap: '8px', marginTop: '16px', flexWrap: 'wrap', justifyContent: 'center'}}>\r\n                    {SEARCH_SUGGESTIONS.map((suggestion) => (\r\n                      <button \r\n                        key={suggestion}\r\n                        className=\"btn\"\r\n                        style={{fontSize: '0.9rem', padding: '8px 14px'}}\r\n                        onClick={() => { setSearchTerm(suggestion); setHasSearched(true); getRecipes(suggestion); }}\r\n                      >{suggestion}</button>\r\n                    ))}\r\n                    <button className=\"btn\" onClick={() => { setSearchTerm(''); setHasSearched(false); }} style={{background:'rgba(255,255,255,0.06)'}}>Clear search</button>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <div style={{fontSize: '2.6rem', marginBottom: '12px'}}>Welcome to Recipe Haven</div>\r\n                  <div style={{fontSize: '1rem', opacity: '0.85'}}>Sign up to save recipes and create your own. Or start exploring with the buttons below.</div>\r\n\r\n                  <div style={{display: 'flex', gap: '8px', marginTop: '16px', flexWrap: 'wrap', justifyContent: 'center'}}>\r\n                    {SEARCH_SUGGESTIONS.map((suggestion) => (\r\n                      <button \r\n                        key={suggestion}\r\n                        className=\"btn\"\r\n                        style={{fontSize: '0.9rem', padding: '8px 14px'}}\r\n                        onClick={() => { setSearchTerm(suggestion); getRecipes(suggestion); }}\r\n                      >{suggestion}</button>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div style={{fontSize: '0.85rem', opacity: '0.7', marginTop: 12}}>Tip: Try searching for \"pasta\" or \"dessert\" to get inspiration.</div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )\r\n        )}\r\n\r\n        {recipes.map((recipeItem) => (\r\n          <Recipe\r\n            key={recipeItem.recipe.uri}\r\n            title={recipeItem.recipe.label}\r\n            calories={recipeItem.recipe.calories}\r\n            image={recipeItem.recipe.image}\r\n            ingredients={recipeItem.recipe.ingredients}\r\n            saved={favorites.some((f) => f.title === recipeItem.recipe.label)}\r\n            onSave={saveRecipe}\r\n            onRemove={removeByTitle}\r\n          />\r\n        ))}\r\n\r\n\r\n      </div>\r\n\r\n      {/* Modals rendered as direct children of .App to avoid background blur capturing them */}\r\n      <SavedRecipes open={showSaved} onClose={()=>setShowSaved(false)} favorites={favorites} token={token} refresh={fetchFavorites} />\r\n\r\n      <MyRecipes open={showMyRecipes} onClose={()=>setShowMyRecipes(false)} token={token} refresh={fetchFavorites} />\r\n\r\n      <CreateRecipeModal open={showCreate} onClose={()=>setShowCreate(false)} token={token} onCreated={async ()=>{\r\n        await fetchFavorites();\r\n        setShowCreate(false);\r\n      }} />\r\n\r\n      <div className=\"footer-note\">\r\n        <div style={{fontSize: '0.85rem', opacity: '0.6'}}>¬© Recipe Haven</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}