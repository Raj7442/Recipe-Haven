{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CreateRecipeModal=_ref=>{let{open,onClose,token,onCreated}=_ref;const[title,setTitle]=useState('');const[image,setImage]=useState('');const[calories,setCalories]=useState('');const[ingredientsText,setIngredientsText]=useState('');const[saving,setSaving]=useState(false);const[error,setError]=useState(null);if(!open)return null;const handleSave=async()=>{setError(null);if(!title.trim()){setError('Title is required');return;}const ingredients=ingredientsText.split('\\n').map(l=>l.trim()).filter(Boolean).map(text=>({text}));const payload={title:title.trim(),image:image.trim()||null,calories:calories?Number(calories):null,ingredients};try{setSaving(true);const headers={'Content-Type':'application/json'};if(token)headers.Authorization=\"Bearer \".concat(token);const res=await fetch('/api/recipes',{method:'POST',headers,body:JSON.stringify(payload)});if(!res.ok){const body=await res.json().catch(()=>({}));throw new Error(body.error||'Failed to save recipe');}const data=await res.json();onCreated&&onCreated(data);// reset form\nsetTitle('');setImage('');setCalories('');setIngredientsText('');onClose();}catch(err){setError(err.message||'Network error');}finally{setSaving(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",onClick:!saving?onClose:undefined,children:/*#__PURE__*/_jsxs(\"div\",{className:\"create-recipe-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2728 Create New Recipe\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,disabled:saving,children:\"\\u2715\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"error-banner\",children:[\"\\u26A0\\uFE0F \",error]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Recipe Title\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",placeholder:\"Enter recipe name\",value:title,onChange:e=>setTitle(e.target.value),disabled:saving})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Image URL (optional)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",placeholder:\"https://example.com/image.jpg\",value:image,onChange:e=>setImage(e.target.value),disabled:saving})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Calories (optional)\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"number\",placeholder:\"e.g. 350\",value:calories,onChange:e=>setCalories(e.target.value),disabled:saving})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ingredients\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",placeholder:\"Enter ingredients (one per line)\\\\ne.g.\\\\n2 cups flour\\\\n1 tsp salt\\\\n3 eggs\",value:ingredientsText,onChange:e=>setIngredientsText(e.target.value),rows:6,disabled:saving})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary\",onClick:onClose,disabled:saving,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-primary\",onClick:handleSave,disabled:saving,children:saving?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"}),\"Creating...\"]}):/*#__PURE__*/_jsx(_Fragment,{children:\"\\uD83C\\uDF73 Create Recipe\"})})]})]})]})});};export default CreateRecipeModal;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreateRecipeModal","_ref","open","onClose","token","onCreated","title","setTitle","image","setImage","calories","setCalories","ingredientsText","setIngredientsText","saving","setSaving","error","setError","handleSave","trim","ingredients","split","map","l","filter","Boolean","text","payload","Number","headers","Authorization","concat","res","fetch","method","body","JSON","stringify","ok","json","catch","Error","data","err","message","className","onClick","undefined","children","e","stopPropagation","disabled","placeholder","value","onChange","target","type","rows"],"sources":["E:/Recipe-Haven---Food-Recipe-App.-main/src/CreateRecipeModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './App.css';\r\n\r\nconst CreateRecipeModal = ({ open, onClose, token, onCreated }) => {\r\n  const [title, setTitle] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [calories, setCalories] = useState('');\r\n  const [ingredientsText, setIngredientsText] = useState('');\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  if (!open) return null;\r\n\r\n  const handleSave = async () => {\r\n    setError(null);\r\n    if (!title.trim()) {\r\n      setError('Title is required');\r\n      return;\r\n    }\r\n\r\n    const ingredients = ingredientsText\r\n      .split('\\n')\r\n      .map((l) => l.trim())\r\n      .filter(Boolean)\r\n      .map((text) => ({ text }));\r\n\r\n    const payload = {\r\n      title: title.trim(),\r\n      image: image.trim() || null,\r\n      calories: calories ? Number(calories) : null,\r\n      ingredients,\r\n    };\r\n\r\n    try {\r\n      setSaving(true);\r\n      const headers = { 'Content-Type': 'application/json' };\r\n      if (token) headers.Authorization = `Bearer ${token}`;\r\n\r\n      const res = await fetch('/api/recipes', { method: 'POST', headers, body: JSON.stringify(payload) });\r\n      if (!res.ok) {\r\n        const body = await res.json().catch(() => ({}));\r\n        throw new Error(body.error || 'Failed to save recipe');\r\n      }\r\n\r\n      const data = await res.json();\r\n      onCreated && onCreated(data);\r\n      // reset form\r\n      setTitle('');\r\n      setImage('');\r\n      setCalories('');\r\n      setIngredientsText('');\r\n      onClose();\r\n    } catch (err) {\r\n      setError(err.message || 'Network error');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-backdrop\" onClick={!saving ? onClose : undefined}>\r\n      <div className=\"create-recipe-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h2>‚ú® Create New Recipe</h2>\r\n          <button className=\"close-btn\" onClick={onClose} disabled={saving}>\r\n            ‚úï\r\n          </button>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"error-banner\">\r\n            ‚ö†Ô∏è {error}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"form-container\">\r\n          <div className=\"form-group\">\r\n            <label>Recipe Title</label>\r\n            <input \r\n              className=\"form-input\"\r\n              placeholder=\"Enter recipe name\" \r\n              value={title} \r\n              onChange={(e) => setTitle(e.target.value)}\r\n              disabled={saving}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Image URL (optional)</label>\r\n            <input \r\n              className=\"form-input\"\r\n              placeholder=\"https://example.com/image.jpg\" \r\n              value={image} \r\n              onChange={(e) => setImage(e.target.value)}\r\n              disabled={saving}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Calories (optional)</label>\r\n            <input \r\n              className=\"form-input\"\r\n              type=\"number\"\r\n              placeholder=\"e.g. 350\" \r\n              value={calories} \r\n              onChange={(e) => setCalories(e.target.value)}\r\n              disabled={saving}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label>Ingredients</label>\r\n            <textarea \r\n              className=\"form-textarea\"\r\n              placeholder=\"Enter ingredients (one per line)\\ne.g.\\n2 cups flour\\n1 tsp salt\\n3 eggs\"\r\n              value={ingredientsText} \r\n              onChange={(e) => setIngredientsText(e.target.value)}\r\n              rows={6}\r\n              disabled={saving}\r\n            />\r\n          </div>\r\n          \r\n          <div className=\"modal-actions\">\r\n            <button className=\"btn-secondary\" onClick={onClose} disabled={saving}>\r\n              Cancel\r\n            </button>\r\n            <button className=\"btn-primary\" onClick={handleSave} disabled={saving}>\r\n              {saving ? (\r\n                <>\r\n                  <div className=\"spinner\"></div>\r\n                  Creating...\r\n                </>\r\n              ) : (\r\n                <>üç≥ Create Recipe</>\r\n              )}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreateRecipeModal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}