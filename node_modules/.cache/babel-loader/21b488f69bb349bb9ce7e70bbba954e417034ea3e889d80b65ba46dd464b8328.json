{"ast":null,"code":"import _objectSpread from\"e:/Recipe-Haven---Food-Recipe-App.-main/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SavedRecipes=_ref=>{let{open,onClose,favorites,token,refresh}=_ref;const[editingId,setEditingId]=useState(null);const[editTitle,setEditTitle]=useState('');const[editImage,setEditImage]=useState('');const[editCalories,setEditCalories]=useState('');const[editIngredients,setEditIngredients]=useState('');if(!open)return null;const startEdit=item=>{setEditingId(item.id);setEditTitle(item.title||'');setEditCalories(item.calories||'');setEditImage(item.image||'');setEditIngredients((item.ingredients||[]).map(i=>i.text).join('\\n'));};const cancelEdit=()=>{setEditingId(null);setEditTitle('');setEditCalories('');setEditImage('');setEditIngredients('');};const saveEdit=async id=>{try{const ingredients=(editIngredients||'').split('\\n').map(l=>l.trim()).filter(Boolean).map(text=>({text}));const res=await fetch(\"/api/recipes/\".concat(id),{method:'PUT',headers:_objectSpread({'Content-Type':'application/json'},token?{Authorization:\"Bearer \".concat(token)}:{}),body:JSON.stringify({title:editTitle,calories:editCalories?Number(editCalories):null,image:editImage||null,ingredients})});if(res.ok){await refresh();cancelEdit();}else{alert('Failed to update');}}catch(e){alert('Network error');}};const onDelete=async id=>{if(!window.confirm('Delete this saved recipe?'))return;try{const res=await fetch(\"/api/recipes/\".concat(id),{method:'DELETE',headers:token?{Authorization:\"Bearer \".concat(token)}:{}});if(res.ok){await refresh();}else{alert('Failed to delete');}}catch(e){alert('Network error');}};return/*#__PURE__*/_jsx(\"div\",{className:\"modal-backdrop\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Saved Recipes\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:onClose,children:\"Close\"})})]}),favorites.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No saved recipes.\"}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:'none',padding:0,marginTop:12},children:favorites.map(item=>/*#__PURE__*/_jsxs(\"li\",{style:{padding:12,borderBottom:'1px solid rgba(255,255,255,0.04)',display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:editingId===item.id?/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gap:6},children:[/*#__PURE__*/_jsx(\"input\",{value:editTitle,onChange:e=>setEditTitle(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{value:editImage,onChange:e=>setEditImage(e.target.value),placeholder:\"Image URL\"}),/*#__PURE__*/_jsx(\"input\",{value:editCalories,onChange:e=>setEditCalories(e.target.value),placeholder:\"Calories\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:4,value:editIngredients,onChange:e=>setEditIngredients(e.target.value)})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700},children:item.title}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:'#9fb0c8'},children:[Math.round(item.calories||0),\" cal \\u2022 \",(item.ingredients||[]).length,\" ingredients\"]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:8,marginLeft:12},children:editingId===item.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>saveEdit(item.id),children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:cancelEdit,children:\"Cancel\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>startEdit(item),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:()=>onDelete(item.id),children:\"Delete\"})]})})]},item.id||item.title))})]})});};export default SavedRecipes;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SavedRecipes","_ref","open","onClose","favorites","token","refresh","editingId","setEditingId","editTitle","setEditTitle","editImage","setEditImage","editCalories","setEditCalories","editIngredients","setEditIngredients","startEdit","item","id","title","calories","image","ingredients","map","i","text","join","cancelEdit","saveEdit","split","l","trim","filter","Boolean","res","fetch","concat","method","headers","_objectSpread","Authorization","body","JSON","stringify","Number","ok","alert","e","onDelete","window","confirm","className","onClick","children","stopPropagation","style","display","justifyContent","alignItems","length","listStyle","padding","marginTop","borderBottom","flex","gap","value","onChange","target","placeholder","rows","fontWeight","fontSize","color","Math","round","marginLeft"],"sources":["e:/Recipe-Haven---Food-Recipe-App.-main/src/SavedRecipes.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './App.css';\r\n\r\nconst SavedRecipes = ({ open, onClose, favorites, token, refresh }) => {\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editTitle, setEditTitle] = useState('');\r\n  const [editImage, setEditImage] = useState('');\r\n  const [editCalories, setEditCalories] = useState('');\r\n  const [editIngredients, setEditIngredients] = useState('');\r\n\r\n  if (!open) return null;\r\n\r\n  const startEdit = (item) => {\r\n    setEditingId(item.id);\r\n    setEditTitle(item.title || '');\r\n    setEditCalories(item.calories || '');\r\n    setEditImage(item.image || '');\r\n    setEditIngredients((item.ingredients || []).map(i => i.text).join('\\n'));\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setEditingId(null);\r\n    setEditTitle('');\r\n    setEditCalories('');\r\n    setEditImage('');\r\n    setEditIngredients('');\r\n  };\r\n\r\n  const saveEdit = async (id) => {\r\n    try {\r\n      const ingredients = (editIngredients || '').split('\\n').map(l => l.trim()).filter(Boolean).map(text => ({ text }));\r\n      const res = await fetch(`/api/recipes/${id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n        },\r\n        body: JSON.stringify({ title: editTitle, calories: editCalories ? Number(editCalories) : null, image: editImage || null, ingredients }),\r\n      });\r\n      if (res.ok) {\r\n        await refresh();\r\n        cancelEdit();\r\n      } else {\r\n        alert('Failed to update');\r\n      }\r\n    } catch (e) {\r\n      alert('Network error');\r\n    }\r\n  };\r\n\r\n  const onDelete = async (id) => {\r\n    if (!window.confirm('Delete this saved recipe?')) return;\r\n    try {\r\n      const res = await fetch(`/api/recipes/${id}`, {\r\n        method: 'DELETE',\r\n        headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      });\r\n      if (res.ok) {\r\n        await refresh();\r\n      } else {\r\n        alert('Failed to delete');\r\n      }\r\n    } catch (e) {\r\n      alert('Network error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"modal-backdrop\" onClick={onClose}>\r\n      <div className=\"modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>\r\n          <h3>Saved Recipes</h3>\r\n          <div>\r\n            <button className=\"btn\" onClick={onClose}>Close</button>\r\n          </div>\r\n        </div>\r\n\r\n        {favorites.length === 0 && <p>No saved recipes.</p>}\r\n\r\n        <ul style={{listStyle:'none',padding:0,marginTop:12}}>\r\n          {favorites.map((item) => (\r\n            <li key={item.id || item.title} style={{padding:12,borderBottom:'1px solid rgba(255,255,255,0.04)',display:'flex',alignItems:'center',justifyContent:'space-between'}}>\r\n              <div style={{flex:1}}>\r\n                {editingId === item.id ? (\r\n                  <div style={{display:'grid',gap:6}}>\r\n                    <input value={editTitle} onChange={(e)=>setEditTitle(e.target.value)} />\r\n                    <input value={editImage} onChange={(e)=>setEditImage(e.target.value)} placeholder='Image URL' />\r\n                    <input value={editCalories} onChange={(e)=>setEditCalories(e.target.value)} placeholder='Calories' />\r\n                    <textarea rows={4} value={editIngredients} onChange={(e)=>setEditIngredients(e.target.value)} />\r\n                  </div>\r\n                ) : (\r\n                  <div>\r\n                    <div style={{fontWeight:700}}>{item.title}</div>\r\n                    <div style={{fontSize:12,color:'#9fb0c8'}}>{Math.round(item.calories || 0)} cal â€¢ { (item.ingredients || []).length } ingredients</div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div style={{display:'flex',gap:8,marginLeft:12}}>\r\n                {editingId === item.id ? (\r\n                  <>\r\n                    <button className=\"btn\" onClick={()=>saveEdit(item.id)}>Save</button>\r\n                    <button className=\"btn\" onClick={cancelEdit}>Cancel</button>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <button className=\"btn\" onClick={()=>startEdit(item)}>Edit</button>\r\n                    <button className=\"btn\" onClick={()=>onDelete(item.id)}>Delete</button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavedRecipes;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}